{"ast":null,"code":"import { resolveElements } from '../utils/resolve-elements.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\nfunction styleEffect(subject, values) {\n  const elements = resolveElements(subject);\n  const subscriptions = [];\n  for (let i = 0; i < elements.length; i++) {\n    const element = elements[i];\n    for (const key in values) {\n      const value = values[key];\n      /**\n       * TODO: Get specific setters for combined props (like x)\n       * or values with default types (like color)\n       *\n       * TODO: CSS variable support\n       */\n      const updateStyle = () => {\n        element.style[key] = value.get();\n      };\n      const scheduleUpdate = () => frame.render(updateStyle);\n      const cancel = value.on(\"change\", scheduleUpdate);\n      scheduleUpdate();\n      subscriptions.push(() => {\n        cancel();\n        cancelFrame(updateStyle);\n      });\n    }\n  }\n  return () => {\n    for (const cancel of subscriptions) {\n      cancel();\n    }\n  };\n}\nexport { styleEffect };","map":{"version":3,"names":["resolveElements","frame","cancelFrame","styleEffect","subject","values","elements","subscriptions","i","length","element","key","value","updateStyle","style","get","scheduleUpdate","render","cancel","on","push"],"sources":["/Users/yassine/Desktop/portfolio/portfolio-yassine/portfolio-yassine/node_modules/motion-dom/dist/es/effects/style-effect.mjs"],"sourcesContent":["import { resolveElements } from '../utils/resolve-elements.mjs';\nimport { frame, cancelFrame } from '../frameloop/frame.mjs';\n\nfunction styleEffect(subject, values) {\n    const elements = resolveElements(subject);\n    const subscriptions = [];\n    for (let i = 0; i < elements.length; i++) {\n        const element = elements[i];\n        for (const key in values) {\n            const value = values[key];\n            /**\n             * TODO: Get specific setters for combined props (like x)\n             * or values with default types (like color)\n             *\n             * TODO: CSS variable support\n             */\n            const updateStyle = () => {\n                element.style[key] = value.get();\n            };\n            const scheduleUpdate = () => frame.render(updateStyle);\n            const cancel = value.on(\"change\", scheduleUpdate);\n            scheduleUpdate();\n            subscriptions.push(() => {\n                cancel();\n                cancelFrame(updateStyle);\n            });\n        }\n    }\n    return () => {\n        for (const cancel of subscriptions) {\n            cancel();\n        }\n    };\n}\n\nexport { styleEffect };\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,+BAA+B;AAC/D,SAASC,KAAK,EAAEC,WAAW,QAAQ,wBAAwB;AAE3D,SAASC,WAAWA,CAACC,OAAO,EAAEC,MAAM,EAAE;EAClC,MAAMC,QAAQ,GAAGN,eAAe,CAACI,OAAO,CAAC;EACzC,MAAMG,aAAa,GAAG,EAAE;EACxB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,QAAQ,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;IACtC,MAAME,OAAO,GAAGJ,QAAQ,CAACE,CAAC,CAAC;IAC3B,KAAK,MAAMG,GAAG,IAAIN,MAAM,EAAE;MACtB,MAAMO,KAAK,GAAGP,MAAM,CAACM,GAAG,CAAC;MACzB;AACZ;AACA;AACA;AACA;AACA;MACY,MAAME,WAAW,GAAGA,CAAA,KAAM;QACtBH,OAAO,CAACI,KAAK,CAACH,GAAG,CAAC,GAAGC,KAAK,CAACG,GAAG,CAAC,CAAC;MACpC,CAAC;MACD,MAAMC,cAAc,GAAGA,CAAA,KAAMf,KAAK,CAACgB,MAAM,CAACJ,WAAW,CAAC;MACtD,MAAMK,MAAM,GAAGN,KAAK,CAACO,EAAE,CAAC,QAAQ,EAAEH,cAAc,CAAC;MACjDA,cAAc,CAAC,CAAC;MAChBT,aAAa,CAACa,IAAI,CAAC,MAAM;QACrBF,MAAM,CAAC,CAAC;QACRhB,WAAW,CAACW,WAAW,CAAC;MAC5B,CAAC,CAAC;IACN;EACJ;EACA,OAAO,MAAM;IACT,KAAK,MAAMK,MAAM,IAAIX,aAAa,EAAE;MAChCW,MAAM,CAAC,CAAC;IACZ;EACJ,CAAC;AACL;AAEA,SAASf,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}